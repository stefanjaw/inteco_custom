<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!--    Activar List View (by default)-->
    <template id="dfx_products_list_view" inherit_id="website_sale.products_list_view" name="DFX Header List View" active="True" customize_show="True">
        <xpath expr="//div/div[2]/div[2]/div[2]" position="replace">
            <div id="products_grid_dfx" t-attf-class="col #{'o_wsale_layout_list' if layout_mode == 'list' else ''}">
                <t t-if="category">
                    <t t-set='editor_msg'>Drag building blocks here to customize the header for "<t t-esc='category.name'/>" category.</t>
                    <div class="mb16" id="category_header" t-att-data-editor-message="editor_msg" t-field="category.website_description"/>
                </t>
                <div t-if="bins" class="o_wsale_products_grid_table_wrapper">
                    <table class="table table-borderless m-0" t-att-data-ppg="ppg" t-att-data-ppr="ppr">
                        <colgroup t-ignore="true">
                            <!-- Force the number of columns (useful when only one row of (x < ppr) products) -->
                            <col t-foreach="ppr" t-as="p"/>
                        </colgroup>
                        <tbody>
                            <div t-if="search and search_count" class="text-right">
                                <strong t-esc="search_count"/>
                                <t t-if="search_count == 1">result found</t>
                                <t t-if="search_count != 1">results found</t>
                            </div>
                            <table style="width:100%;" class="table">
                                <tr>
                                    <th style="width:10%;padding-left: 8px;">Code</th>
                                    <th style="width:40%;padding-left: 8px;">Name</th>
                                    <th style="width:20%;padding-left: 8px;">Correspondences</th>
                                    <th style="width:10%;padding-left: 8px;">State</th>
                                    <th style="width:20%;padding-left: 8px;">Price</th>
                                </tr>
                                <tr t-foreach="bins" t-as="tr_product">
                                    <t t-foreach="tr_product" t-as="td_product">
                                        <t t-if="td_product">
                                            <t t-set="product" t-value="td_product['product']"/>
                                            <div t-attf-class="o_wsale_product_grid_wrapper o_wsale_product_grid_wrapper_#{td_product['x']}_#{td_product['y']}">
                                                <t t-call="website_sale.products_item">
                                                    <t t-set="product_image_big" t-value="td_product['x'] + td_product['y'] > 2"/>
                                                </t>
                                            </div>
                                        </t>
                                    </t>
                                </tr>
                            </table>
                            <hr class="hidden-md hidden-lg"/>
                        </tbody>
                    </table>
                </div>
                <t t-else="">
                    <div class="text-center text-muted">
                        <t t-if="not search">
                            <h3 class="mt8">No product defined</h3>
                            <p t-if="category">No product defined in category "<strong t-esc="category.display_name"/>".</p>
                        </t>
                        <t t-else="">
                            <h3 class="mt8">No results</h3>
                            <p>No results for "<strong t-esc='search'/>"<t t-if="category"> in category "<strong t-esc="category.display_name"/>"</t>.</p>
                        </t>
                        <p t-ignore="true" groups="sales_team.group_sale_manager">Click <i>'New'</i> in the top-right corner to create your first product.</p>
                    </div>
                </t>
            </div>
        </xpath>
    </template>

</odoo>